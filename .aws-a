
# Convenient aliases for the aws cli
# NB: The two longer aliases rely upon jq (https://stedolan.github.io/jq/)

alias awho='aws sts get-caller-identity'

# usage: aps 
aps() {
    aws "$@" --output json ec2 describe-instances | jq -r '.Reservations[].Instances[]| .InstanceId + " " + .InstanceType + " " + .State.Name + " " + .PublicIpAddress + " " + .Tags[0].Value'
}

# usage: akill <instance-id>
akill() {
    aws  --output json ec2 terminate-instances --instance-id "$@"
}

# usage: apurge
# terminate all running instances
apurge() {
    akill `aps | grep running | awk '{print $1}'`
}

alias s3ls='aws s3 ls '
alias s3lsr='aws s3 ls --recursive'
alias s3cp='aws s3 cp '
alias s3rm='aws s3 rm '
alias s3mv='aws s3 mv '


